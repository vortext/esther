(function(N,I){typeof exports=="object"&&typeof module<"u"?I(exports):typeof define=="function"&&define.amd?define(["exports"],I):(N=typeof globalThis<"u"?globalThis:N||self,I(N.lunarphase={}))})(this,function(N){"use strict";var I=(e=>(e.NORTHERN="Northern",e.SOUTHERN="Southern",e))(I||{}),T=(e=>(e.NEW="ðŸŒ‘",e.WAXING_CRESCENT="ðŸŒ’",e.FIRST_QUARTER="ðŸŒ“",e.WAXING_GIBBOUS="ðŸŒ”",e.FULL="ðŸŒ•",e.WANING_GIBBOUS="ðŸŒ–",e.LAST_QUARTER="ðŸŒ—",e.WANING_CRESCENT="ðŸŒ˜",e))(T||{}),R=(e=>(e.NEW="ðŸŒ‘",e.WAXING_CRESCENT="ðŸŒ˜",e.FIRST_QUARTER="ðŸŒ—",e.WAXING_GIBBOUS="ðŸŒ–",e.FULL="ðŸŒ•",e.WANING_GIBBOUS="ðŸŒ”",e.LAST_QUARTER="ðŸŒ“",e.WANING_CRESCENT="ðŸŒ’",e))(R||{}),S=(e=>(e.ANOMALISTIC="Anomalistic",e.DRACONIC="Draconic",e.SIDEREAL="Sidereal",e.SYNODIC="Synodic",e.TROPICAL="Tropical",e))(S||{}),n=(e=>(e.NEW="New",e.WAXING_CRESCENT="Waxing Crescent",e.FIRST_QUARTER="First Quarter",e.WAXING_GIBBOUS="Waxing Gibbous",e.FULL="Full",e.WANING_GIBBOUS="Waning Gibbous",e.LAST_QUARTER="Last Quarter",e.WANING_CRESCENT="Waning Crescent",e))(n||{});const u=24405875e-1,_=2.4234366115277777e6,C=27.55454988,i=29.53058770576;class s{static fromDate(t=new Date){return t.getTime()/864e5-t.getTimezoneOffset()/1440+u}static toDate(t){const a=new Date;return a.setTime((t-u+a.getTimezoneOffset()/1440)*864e5),a}}const E={hemisphere:I.NORTHERN},G=e=>(e-=Math.floor(e),e<0&&(e+=1),e);class A{static lunarAge(t=new Date){return A.lunarAgePercent(t)*i}static lunarAgePercent(t=new Date){return G((s.fromDate(t)-24515501e-1)/i)}static lunationNumber(t=new Date){return Math.round((s.fromDate(t)-_)/i)+1}static lunarDistance(t=new Date){const a=s.fromDate(t),c=A.lunarAgePercent(t)*2*Math.PI,W=2*Math.PI*G((a-24515622e-1)/C);return 60.4-3.3*Math.cos(W)-.6*Math.cos(2*c-W)-.5*Math.cos(2*c)}static lunarPhase(t=new Date,a){a={...E,...a};const r=A.lunarAge(t);return r<1.84566173161?n.NEW:r<5.53698519483?n.WAXING_CRESCENT:r<9.22830865805?n.FIRST_QUARTER:r<12.91963212127?n.WAXING_GIBBOUS:r<16.61095558449?n.FULL:r<20.30227904771?n.WANING_GIBBOUS:r<23.99360251093?n.LAST_QUARTER:r<27.68492597415?n.WANING_CRESCENT:n.NEW}static lunarPhaseEmoji(t=new Date,a){a={...E,...a};const r=A.lunarPhase(t);return A.emojiForLunarPhase(r,a)}static emojiForLunarPhase(t,a){const{hemisphere:r}={...E,...a};let c;switch(r===I.SOUTHERN?c=R:c=T,t){case n.WANING_CRESCENT:return c.WANING_CRESCENT;case n.LAST_QUARTER:return c.LAST_QUARTER;case n.WANING_GIBBOUS:return c.WANING_GIBBOUS;case n.FULL:return c.FULL;case n.WAXING_GIBBOUS:return c.WAXING_GIBBOUS;case n.FIRST_QUARTER:return c.FIRST_QUARTER;case n.WAXING_CRESCENT:return c.WAXING_CRESCENT;default:case n.NEW:return c.NEW}}static isWaxing(t=new Date){return A.lunarAge(t)<=14.765}static isWaning(t=new Date){return A.lunarAge(t)>14.765}}var l=(e=>(e.EARTH_RADII="Earth Radii",e.KILOMETERS="km",e.MILES="m",e))(l||{});N.Hemisphere=I,N.Julian=s,N.LunarMonth=S,N.LunarPhase=n,N.Moon=A,N.NorthernHemisphereLunarEmoji=T,N.SouthernHemisphereLunarEmoji=R,N.Unit=l,Object.defineProperty(N,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.js.map
